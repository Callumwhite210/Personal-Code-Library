(this.webpackJsonpcms=this.webpackJsonpcms||[]).push([[0],{34:function(e,t,a){e.exports=a(69)},39:function(e,t,a){},40:function(e,t,a){},67:function(e,t,a){},69:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(14),c=a.n(l),o=a(73),s=a(74),m=a(75);function i({fluid:e,children:t}){return r.a.createElement("div",{className:"container".concat(e?"-fluid":"")},t)}function u({fluid:e,children:t}){return r.a.createElement("div",{className:"row".concat(e?"-fluid":"")},t)}function E({size:e,children:t}){return r.a.createElement("div",{className:e.split(" ").map(e=>"col-"+e).join(" ")},t)}var d=a(9);a(39);function p({children:e}){return r.a.createElement("div",{className:"list-overflow-container"},r.a.createElement("ul",{className:"list-group"},e))}function b({children:e}){return r.a.createElement("li",{className:"list-group-item"},e)}a(40);var v=function(e){return r.a.createElement("span",Object.assign({className:"delete-btn"},e,{role:"button",tabIndex:"0"}),"\u2717")},f=a(72),O=a(33),h=a(5);const g=Object(n.createContext)(),j=g.Provider,N=(e,t)=>{switch(t.type){case"SET_CURRENT_POST":return Object(h.a)(Object(h.a)({},e),{},{currentPost:t.post,loading:!1});case"UPDATE_POSTS":return Object(h.a)(Object(h.a)({},e),{},{posts:[...t.posts],loading:!1});case"ADD_POST":return Object(h.a)(Object(h.a)({},e),{},{posts:[t.post,...e.posts],loading:!1});case"REMOVE_POST":return Object(h.a)(Object(h.a)({},e),{},{posts:e.posts.filter(e=>e._id!==t._id)});case"ADD_FAVORITE":return Object(h.a)(Object(h.a)({},e),{},{favorites:[t.post,...e.favorites],loading:!1});case"UPDATE_FAVORITES":return Object(h.a)(Object(h.a)({},e),{},{favorites:[...e.favorites],loading:!1});case"REMOVE_FAVORITE":return Object(h.a)(Object(h.a)({},e),{},{favorites:e.favorites.filter(e=>e._id!==t._id)});case"LOADING":return Object(h.a)(Object(h.a)({},e),{},{loading:!0});default:return e}},_=e=>{e.value;let t=Object(O.a)(e,["value"]);const a=Object(n.useReducer)(N,{posts:[],currentPost:{_id:0,title:"",body:"",author:""},favorites:[],loading:!1}),l=Object(d.a)(a,2),c=l[0],o=l[1];return r.a.createElement(j,Object.assign({value:[c,o]},t))},y=()=>Object(n.useContext)(g);var P=a(15),T=a.n(P),A=function(){return T.a.get("/api/posts")},R=function(e){return T.a.get("/api/posts/"+e)},D=function(e){return T.a.post("/api/posts",e)};var k=function(){const e=y(),t=Object(d.a)(e,2),a=t[0],l=t[1];return Object(n.useEffect)(()=>{l({type:"LOADING"}),A().then(e=>{l({type:"UPDATE_POSTS",posts:e.data})}).catch(e=>console.log(e))},[]),r.a.createElement("div",null,r.a.createElement("h1",null,"All Posts"),a.posts.length?r.a.createElement(p,null,a.posts.map(e=>r.a.createElement(b,{key:e._id},r.a.createElement(f.a,{to:"/posts/"+e._id},r.a.createElement("strong",null,e.title," by ",e.author)),r.a.createElement("p",null," ",e.body," ")))):r.a.createElement("h3",null,"No posts"))};var x=()=>r.a.createElement(i,{fluid:!0},r.a.createElement(u,null,r.a.createElement(E,{size:"md-6 sm-12"},r.a.createElement(k,null))));var I=function({children:e}){return r.a.createElement("div",{style:{clear:"both",paddingTop:20,margin:20},className:"jumbotron border border-success"},e)};var S=e=>{const t=y(),a=Object(d.a)(t,2),l=a[0],c=a[1];Object(n.useEffect)(()=>{R(e.match.params.id).then(e=>c({type:"SET_CURRENT_POST",post:e.data})).catch(e=>console.log(e))},[]);return r.a.createElement(r.a.Fragment,null,l.currentPost?r.a.createElement(i,{fluid:!0},r.a.createElement(u,null,r.a.createElement(E,{size:"md-10 md-offset-1"},r.a.createElement(I,null,r.a.createElement("article",null,r.a.createElement("h2",null,l.currentPost.title," by ",l.currentPost.author),r.a.createElement("p",null,l.currentPost.body)))),-1!==l.favorites.indexOf(l.currentPost)?r.a.createElement("button",{className:"btn btn-danger",onClick:()=>{c({type:"REMOVE_FAVORITE",_id:l.currentPost._id})}},"Remove from Favorites!"):r.a.createElement("button",{className:"btn",onClick:()=>{c({type:"ADD_FAVORITE",post:l.currentPost})}},"Add to Favorites")),r.a.createElement(u,null,r.a.createElement(E,{size:"md-2"},r.a.createElement(f.a,{to:"/"},"\u2190 Back to Posts")))):r.a.createElement("div",null,"loading..."))};var F=()=>r.a.createElement(i,{fluid:!0},r.a.createElement(u,null,r.a.createElement(E,{size:"md-12"},r.a.createElement(I,null,r.a.createElement("h1",null,"404 Page Not Found"))))),C=a(22),V=a(32);var z=function(){const e=y();return Object(d.a)(e,1)[0],r.a.createElement("nav",{className:"navbar navbar-expand-lg navbar-light bg-light"},r.a.createElement("a",{className:"navbar-brand",href:"/"},"Personal Code Library"),r.a.createElement(C.a,{bg:"transparant"},r.a.createElement(C.a.Toggle,{className:"border-0 dropdown navbar-dark","aria-controls":"navbar-toggle"}),r.a.createElement(C.a.Collapse,{id:"navbar-toggle"},r.a.createElement(V.a,{className:"ml-auto"},r.a.createElement(f.a,{className:"nav-link",to:"/home"},"Home"),r.a.createElement(f.a,{className:"nav-link",to:"/favorites"},"Favorites"),r.a.createElement(f.a,{className:"nav-link",to:"/create"},"Creat Post"),r.a.createElement(f.a,{className:"nav-link",to:"/login"}," Log In "),r.a.createElement(f.a,{className:"nav-link",to:"/register"}," Register ")))))};var w=()=>{const e=y(),t=Object(d.a)(e,2),a=t[0],l=t[1];return Object(n.useEffect)(()=>{l({type:"LOADING"}),l({type:"UPDATE_FAVORITES"})},[]),r.a.createElement("div",{className:"container mb-5 mt-5"},r.a.createElement("h1",{className:"text-center"},"Here's All of Your Favorite Posts"),a.favorites.length?r.a.createElement(p,null,r.a.createElement("h3",{className:"mb-5 mt-5"},"Click on a post to view in detail"),a.favorites.map(e=>r.a.createElement(b,{key:e._id},r.a.createElement(f.a,{to:"/posts/"+e._id},r.a.createElement("strong",null,e.title," by ",e.author)),r.a.createElement("p",null," ",e.body," "),r.a.createElement(v,{onClick:()=>{return t=e._id,void l({type:"REMOVE_FAVORITE",_id:t});var t}})))):r.a.createElement("h3",null,"You haven't added any favorites yet!"),r.a.createElement("div",{className:"mt-5"},r.a.createElement(f.a,{to:"home"},"Back to home")))};var L=function(){const e=Object(n.useRef)(),t=Object(n.useRef)(),a=Object(n.useRef)(),l=y(),c=Object(d.a)(l,2),o=c[0],s=c[1];return r.a.createElement("div",null,r.a.createElement("h1",null,"Create a post"),r.a.createElement("form",{className:"form-group mt-5 mb-5",onSubmit:n=>{n.preventDefault(),s({type:"LOADING"}),D({title:e.current.value,body:t.current.value,author:a.current.value}).then(e=>{s({type:"ADD_POST",post:e.data})}).catch(e=>console.log(e)),e.current.value="",t.current.value=""}},r.a.createElement("input",{className:"form-control mb-5",required:!0,ref:e,placeholder:"Title"}),r.a.createElement("textarea",{className:"form-control mb-5",required:!0,ref:t,placeholder:"Body"}),r.a.createElement("input",{className:"form-control mb-5",ref:a,placeholder:"Screen name"}),r.a.createElement("button",{className:"btn btn-success mt-3 mb-5",disabled:o.loading,type:"submit"},"Post")))};var U=()=>r.a.createElement(i,{fluid:!0},r.a.createElement(u,null,r.a.createElement(E,{size:"md-6"},r.a.createElement(L,null))));a(67);var B=()=>r.a.createElement(i,{fluid:!0},r.a.createElement(u,null,r.a.createElement(E,{size:"md-6 sm-12"},r.a.createElement("h1",null," Register "))));var G=()=>r.a.createElement(i,{fluid:!0},r.a.createElement(u,null,r.a.createElement(E,{size:"md-6 sm-12"},r.a.createElement("h1",null,"Log In"))));var M=function(){return r.a.createElement(o.a,null,r.a.createElement("div",null,r.a.createElement(_,null,r.a.createElement(z,null),r.a.createElement(s.a,null,r.a.createElement(m.a,{exact:!0,path:"/",component:x}),r.a.createElement(m.a,{exact:!0,path:"/home",component:x}),r.a.createElement(m.a,{exact:!0,path:"/favorites",component:w}),r.a.createElement(m.a,{exact:!0,path:"/posts/:id",component:S}),r.a.createElement(m.a,{exact:!0,path:"/create",component:U}),r.a.createElement(m.a,{exact:!0,path:"/login",component:G}),r.a.createElement(m.a,{exact:!0,path:"/register",component:B}),r.a.createElement(m.a,{component:F})))))};c.a.render(r.a.createElement(M,null),document.getElementById("root"))}},[[34,1,2]]]);
//# sourceMappingURL=main.ca0e1a60.chunk.js.map